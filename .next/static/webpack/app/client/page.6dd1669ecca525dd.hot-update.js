"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/client/page",{

/***/ "(app-pages-browser)/./lib/realtimeCore.js":
/*!*****************************!*\
  !*** ./lib/realtimeCore.js ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRealtimeCore: function() { return /* binding */ startRealtimeCore; },\n/* harmony export */   stopRealtimeCore: function() { return /* binding */ stopRealtimeCore; }\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(app-pages-browser)/./lib/supabase.js\");\n\nconst supabase = (0,_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabase)();\nconst DEBUG = false;\nconst log = function() {\n    for(var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++){\n        a[_key] = arguments[_key];\n    }\n    if (DEBUG) console.log(...a);\n};\nconst warn = function() {\n    for(var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++){\n        a[_key] = arguments[_key];\n    }\n    if (DEBUG) console.warn(...a);\n};\nlet channels = [];\nlet socket = null;\nlet pingTimer = null;\nlet watchdogTimer = null;\nlet lastHeartbeatAt = 0;\nlet lastStatus = \"unknown\";\nconst subscribed = new Set();\nfunction startRealtimeCore(onUpdate) {\n    stopRealtimeCore();\n    socket = supabase.realtime.connect();\n    if (!socket || typeof socket.push !== \"function\") {\n        console.error(\"‚ùå Socket realtime no inicializado\");\n        return;\n    }\n    const channelConfig = {\n        config: {\n            broadcast: {\n                self: true\n            },\n            presence: {\n                key: \"manosya-core\"\n            },\n            reconnect: true\n        }\n    };\n    const subscribeWithStatus = (name, pgOptions, handler)=>{\n        const ch = supabase.channel(name, channelConfig).on(\"postgres_changes\", pgOptions, (payload)=>{\n            try {\n                if (!payload) return;\n                handler(payload);\n            } catch (err) {\n                console.error(\"‚ö†Ô∏è Error en canal \".concat(name, \":\"), err);\n            }\n        }).subscribe((status)=>{\n            if (status === \"SUBSCRIBED\") {\n                subscribed.add(name);\n                if (lastStatus !== \"connected\") {\n                    lastStatus = \"connected\";\n                    lastHeartbeatAt = Date.now();\n                    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"connected\", {\n                        channel: name\n                    });\n                }\n            } else if ([\n                \"CLOSED\",\n                \"TIMED_OUT\",\n                \"CHANNEL_ERROR\"\n            ].includes(status)) {\n                subscribed.delete(name);\n                if (subscribed.size === 0 && lastStatus !== \"disconnected\") {\n                    lastStatus = \"disconnected\";\n                    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"disconnected\", {\n                        channel: name\n                    });\n                }\n            }\n        });\n        return ch;\n    };\n    // üë∑ Worker profiles\n    const workers = subscribeWithStatus(\"core-workers\", {\n        event: \"*\",\n        schema: \"public\",\n        table: \"worker_profiles\"\n    }, (payload)=>{\n        const ev = payload.eventType;\n        var _payload_new;\n        const newRow = (_payload_new = payload.new) !== null && _payload_new !== void 0 ? _payload_new : null;\n        var _payload_old;\n        const oldRow = (_payload_old = payload.old) !== null && _payload_old !== void 0 ? _payload_old : null;\n        if (ev === \"DELETE\" && (oldRow === null || oldRow === void 0 ? void 0 : oldRow.user_id)) {\n            onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"worker\", {\n                user_id: oldRow.user_id,\n                is_active: false\n            });\n            return;\n        }\n        if (ev === \"INSERT\" || ev === \"UPDATE\") {\n            const row = {\n                ...newRow\n            };\n            row.is_active = !(row.status === \"paused\" || row.is_active === false);\n            if (row.user_id) onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"worker\", row);\n        }\n    });\n    // üì¶ Jobs ‚Üí difunde todos los INSERT (nuevos pedidos)\n    const jobs = subscribeWithStatus(\"core-jobs\", {\n        event: \"*\",\n        schema: \"public\",\n        table: \"jobs\"\n    }, (payload)=>{\n        const ev = payload.eventType;\n        var _payload_new;\n        const newRow = (_payload_new = payload.new) !== null && _payload_new !== void 0 ? _payload_new : null;\n        var _payload_old;\n        const oldRow = (_payload_old = payload.old) !== null && _payload_old !== void 0 ? _payload_old : null;\n        if (ev === \"INSERT\" && (newRow === null || newRow === void 0 ? void 0 : newRow.status) === \"open\") {\n            // üîî Difundir a todos los workers disponibles\n            onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"job\", {\n                ...newRow,\n                __source: \"insert\"\n            });\n        }\n        if (ev === \"UPDATE\") {\n            onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"job\", {\n                ...newRow,\n                __source: \"update\"\n            });\n        }\n        if (ev === \"DELETE\") {\n            onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"job\", {\n                ...oldRow,\n                __source: \"delete\"\n            });\n        }\n    });\n    // üí¨ Mensajes\n    const messages = subscribeWithStatus(\"core-messages\", {\n        event: \"INSERT\",\n        schema: \"public\",\n        table: \"messages\"\n    }, (payload)=>{\n        const row = payload.new;\n        if (row) onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"message\", row);\n    });\n    // üë§ Perfiles\n    const profiles = subscribeWithStatus(\"core-profiles\", {\n        event: \"UPDATE\",\n        schema: \"public\",\n        table: \"profiles\"\n    }, (payload)=>{\n        const row = payload.new;\n        if (row) onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(\"profile\", row);\n    });\n    channels = [\n        workers,\n        jobs,\n        messages,\n        profiles\n    ];\n    // ‚ù§Ô∏è Heartbeat\n    clearInterval(pingTimer);\n    pingTimer = setInterval(()=>{\n        try {\n            var _socket_isConnected;\n            if (socket === null || socket === void 0 ? void 0 : (_socket_isConnected = socket.isConnected) === null || _socket_isConnected === void 0 ? void 0 : _socket_isConnected.call(socket)) {\n                socket.push({\n                    topic: \"phoenix\",\n                    event: \"heartbeat\",\n                    payload: {},\n                    ref: socket.makeRef()\n                });\n                lastHeartbeatAt = Date.now();\n            } else {\n                warn(\"Reconectando socket...\");\n                socket = supabase.realtime.connect();\n            }\n        } catch (err) {\n            console.error(\"‚ö†Ô∏è Error heartbeat:\", err);\n        }\n    }, 10000);\n    // üõ°Ô∏è Watchdog\n    clearInterval(watchdogTimer);\n    watchdogTimer = setInterval(()=>{\n        const idle = Date.now() - lastHeartbeatAt;\n        if (subscribed.size === 0 || idle > 30000) {\n            warn(\"\\uD83E\\uDDEF Reiniciando RealtimeCore...\");\n            const cb = onUpdate;\n            stopRealtimeCore();\n            startRealtimeCore(cb);\n        }\n    }, 20000);\n    return ()=>stopRealtimeCore();\n}\nfunction stopRealtimeCore() {\n    try {\n        channels.forEach((ch)=>supabase.removeChannel(ch));\n        channels = [];\n        subscribed.clear();\n        if (pingTimer) clearInterval(pingTimer);\n        if (watchdogTimer) clearInterval(watchdogTimer);\n        if (socket) {\n            try {\n                socket.disconnect();\n            } catch (e) {}\n            socket = null;\n        }\n        lastStatus = \"unknown\";\n    } catch (err) {\n        console.error(\"‚ùå Error al detener RealtimeCore:\", err);\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9yZWFsdGltZUNvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlDO0FBRXpDLE1BQU1DLFdBQVdELHNEQUFXQTtBQUM1QixNQUFNRSxRQUFRO0FBQ2QsTUFBTUMsTUFBTTtxQ0FBSUM7UUFBQUE7O0lBQVEsSUFBSUYsT0FBT0csUUFBUUYsR0FBRyxJQUFJQztBQUFJO0FBQ3RELE1BQU1FLE9BQU87cUNBQUlGO1FBQUFBOztJQUFRLElBQUlGLE9BQU9HLFFBQVFDLElBQUksSUFBSUY7QUFBSTtBQUV4RCxJQUFJRyxXQUFXLEVBQUU7QUFDakIsSUFBSUMsU0FBUztBQUNiLElBQUlDLFlBQVk7QUFDaEIsSUFBSUMsZ0JBQWdCO0FBQ3BCLElBQUlDLGtCQUFrQjtBQUN0QixJQUFJQyxhQUFhO0FBQ2pCLE1BQU1DLGFBQWEsSUFBSUM7QUFFaEIsU0FBU0Msa0JBQWtCQyxRQUFRO0lBQ3hDQztJQUVBVCxTQUFTUCxTQUFTaUIsUUFBUSxDQUFDQyxPQUFPO0lBQ2xDLElBQUksQ0FBQ1gsVUFBVSxPQUFPQSxPQUFPWSxJQUFJLEtBQUssWUFBWTtRQUNoRGYsUUFBUWdCLEtBQUssQ0FBQztRQUNkO0lBQ0Y7SUFFQSxNQUFNQyxnQkFBZ0I7UUFDcEJDLFFBQVE7WUFDTkMsV0FBVztnQkFBRUMsTUFBTTtZQUFLO1lBQ3hCQyxVQUFVO2dCQUFFQyxLQUFLO1lBQWU7WUFDaENDLFdBQVc7UUFDYjtJQUNGO0lBRUEsTUFBTUMsc0JBQXNCLENBQUNDLE1BQU1DLFdBQVdDO1FBQzVDLE1BQU1DLEtBQUtoQyxTQUNSaUMsT0FBTyxDQUFDSixNQUFNUixlQUNkYSxFQUFFLENBQUMsb0JBQW9CSixXQUFXLENBQUNLO1lBQ2xDLElBQUk7Z0JBQ0YsSUFBSSxDQUFDQSxTQUFTO2dCQUNkSixRQUFRSTtZQUNWLEVBQUUsT0FBT0MsS0FBSztnQkFDWmhDLFFBQVFnQixLQUFLLENBQUMscUJBQTBCLE9BQUxTLE1BQUssTUFBSU87WUFDOUM7UUFD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dEMsS0FBT2hDLFNBQVN1RSxhQUFhLENBQUN2QztRQUNoRDFCLFdBQVcsRUFBRTtRQUNiTSxXQUFXNEQsS0FBSztRQUNoQixJQUFJaEUsV0FBV3NELGNBQWN0RDtRQUM3QixJQUFJQyxlQUFlcUQsY0FBY3JEO1FBQ2pDLElBQUlGLFFBQVE7WUFDVixJQUFJO2dCQUFFQSxPQUFPa0UsVUFBVTtZQUFJLEVBQUUsVUFBTSxDQUFDO1lBQ3BDbEUsU0FBUztRQUNYO1FBQ0FJLGFBQWE7SUFDZixFQUFFLE9BQU95QixLQUFLO1FBQ1poQyxRQUFRZ0IsS0FBSyxDQUFDLG9DQUFvQ2dCO0lBQ3BEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL3JlYWx0aW1lQ29yZS5qcz9kMWJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFN1cGFiYXNlIH0gZnJvbSAnLi9zdXBhYmFzZSc7XHJcblxyXG5jb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlKCk7XHJcbmNvbnN0IERFQlVHID0gZmFsc2U7XHJcbmNvbnN0IGxvZyA9ICguLi5hKSA9PiB7IGlmIChERUJVRykgY29uc29sZS5sb2coLi4uYSk7IH07XHJcbmNvbnN0IHdhcm4gPSAoLi4uYSkgPT4geyBpZiAoREVCVUcpIGNvbnNvbGUud2FybiguLi5hKTsgfTtcclxuXHJcbmxldCBjaGFubmVscyA9IFtdO1xyXG5sZXQgc29ja2V0ID0gbnVsbDtcclxubGV0IHBpbmdUaW1lciA9IG51bGw7XHJcbmxldCB3YXRjaGRvZ1RpbWVyID0gbnVsbDtcclxubGV0IGxhc3RIZWFydGJlYXRBdCA9IDA7XHJcbmxldCBsYXN0U3RhdHVzID0gJ3Vua25vd24nO1xyXG5jb25zdCBzdWJzY3JpYmVkID0gbmV3IFNldCgpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UmVhbHRpbWVDb3JlKG9uVXBkYXRlKSB7XHJcbiAgc3RvcFJlYWx0aW1lQ29yZSgpO1xyXG5cclxuICBzb2NrZXQgPSBzdXBhYmFzZS5yZWFsdGltZS5jb25uZWN0KCk7XHJcbiAgaWYgKCFzb2NrZXQgfHwgdHlwZW9mIHNvY2tldC5wdXNoICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgU29ja2V0IHJlYWx0aW1lIG5vIGluaWNpYWxpemFkbycpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY2hhbm5lbENvbmZpZyA9IHtcclxuICAgIGNvbmZpZzoge1xyXG4gICAgICBicm9hZGNhc3Q6IHsgc2VsZjogdHJ1ZSB9LFxyXG4gICAgICBwcmVzZW5jZTogeyBrZXk6ICdtYW5vc3lhLWNvcmUnIH0sXHJcbiAgICAgIHJlY29ubmVjdDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc3Vic2NyaWJlV2l0aFN0YXR1cyA9IChuYW1lLCBwZ09wdGlvbnMsIGhhbmRsZXIpID0+IHtcclxuICAgIGNvbnN0IGNoID0gc3VwYWJhc2VcclxuICAgICAgLmNoYW5uZWwobmFtZSwgY2hhbm5lbENvbmZpZylcclxuICAgICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJywgcGdPcHRpb25zLCAocGF5bG9hZCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBpZiAoIXBheWxvYWQpIHJldHVybjtcclxuICAgICAgICAgIGhhbmRsZXIocGF5bG9hZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDimqDvuI8gRXJyb3IgZW4gY2FuYWwgJHtuYW1lfTpgLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN1YnNjcmliZSgoc3RhdHVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ1NVQlNDUklCRUQnKSB7XHJcbiAgICAgICAgICBzdWJzY3JpYmVkLmFkZChuYW1lKTtcclxuICAgICAgICAgIGlmIChsYXN0U3RhdHVzICE9PSAnY29ubmVjdGVkJykge1xyXG4gICAgICAgICAgICBsYXN0U3RhdHVzID0gJ2Nvbm5lY3RlZCc7XHJcbiAgICAgICAgICAgIGxhc3RIZWFydGJlYXRBdCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIG9uVXBkYXRlPy4oJ2Nvbm5lY3RlZCcsIHsgY2hhbm5lbDogbmFtZSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKFsnQ0xPU0VEJywgJ1RJTUVEX09VVCcsICdDSEFOTkVMX0VSUk9SJ10uaW5jbHVkZXMoc3RhdHVzKSkge1xyXG4gICAgICAgICAgc3Vic2NyaWJlZC5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgICBpZiAoc3Vic2NyaWJlZC5zaXplID09PSAwICYmIGxhc3RTdGF0dXMgIT09ICdkaXNjb25uZWN0ZWQnKSB7XHJcbiAgICAgICAgICAgIGxhc3RTdGF0dXMgPSAnZGlzY29ubmVjdGVkJztcclxuICAgICAgICAgICAgb25VcGRhdGU/LignZGlzY29ubmVjdGVkJywgeyBjaGFubmVsOiBuYW1lIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGNoO1xyXG4gIH07XHJcblxyXG4gIC8vIPCfkbcgV29ya2VyIHByb2ZpbGVzXHJcbiAgY29uc3Qgd29ya2VycyA9IHN1YnNjcmliZVdpdGhTdGF0dXMoXHJcbiAgICAnY29yZS13b3JrZXJzJyxcclxuICAgIHsgZXZlbnQ6ICcqJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICd3b3JrZXJfcHJvZmlsZXMnIH0sXHJcbiAgICAocGF5bG9hZCkgPT4ge1xyXG4gICAgICBjb25zdCBldiA9IHBheWxvYWQuZXZlbnRUeXBlO1xyXG4gICAgICBjb25zdCBuZXdSb3cgPSBwYXlsb2FkLm5ldyA/PyBudWxsO1xyXG4gICAgICBjb25zdCBvbGRSb3cgPSBwYXlsb2FkLm9sZCA/PyBudWxsO1xyXG5cclxuICAgICAgaWYgKGV2ID09PSAnREVMRVRFJyAmJiBvbGRSb3c/LnVzZXJfaWQpIHtcclxuICAgICAgICBvblVwZGF0ZT8uKCd3b3JrZXInLCB7IHVzZXJfaWQ6IG9sZFJvdy51c2VyX2lkLCBpc19hY3RpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGV2ID09PSAnSU5TRVJUJyB8fCBldiA9PT0gJ1VQREFURScpIHtcclxuICAgICAgICBjb25zdCByb3cgPSB7IC4uLm5ld1JvdyB9O1xyXG4gICAgICAgIHJvdy5pc19hY3RpdmUgPSAhKHJvdy5zdGF0dXMgPT09ICdwYXVzZWQnIHx8IHJvdy5pc19hY3RpdmUgPT09IGZhbHNlKTtcclxuICAgICAgICBpZiAocm93LnVzZXJfaWQpIG9uVXBkYXRlPy4oJ3dvcmtlcicsIHJvdyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG5cclxuICAvLyDwn5OmIEpvYnMg4oaSIGRpZnVuZGUgdG9kb3MgbG9zIElOU0VSVCAobnVldm9zIHBlZGlkb3MpXHJcbiAgY29uc3Qgam9icyA9IHN1YnNjcmliZVdpdGhTdGF0dXMoXHJcbiAgICAnY29yZS1qb2JzJyxcclxuICAgIHsgZXZlbnQ6ICcqJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICdqb2JzJyB9LFxyXG4gICAgKHBheWxvYWQpID0+IHtcclxuICAgICAgY29uc3QgZXYgPSBwYXlsb2FkLmV2ZW50VHlwZTtcclxuICAgICAgY29uc3QgbmV3Um93ID0gcGF5bG9hZC5uZXcgPz8gbnVsbDtcclxuICAgICAgY29uc3Qgb2xkUm93ID0gcGF5bG9hZC5vbGQgPz8gbnVsbDtcclxuXHJcbiAgICAgIGlmIChldiA9PT0gJ0lOU0VSVCcgJiYgbmV3Um93Py5zdGF0dXMgPT09ICdvcGVuJykge1xyXG4gICAgICAgIC8vIPCflJQgRGlmdW5kaXIgYSB0b2RvcyBsb3Mgd29ya2VycyBkaXNwb25pYmxlc1xyXG4gICAgICAgIG9uVXBkYXRlPy4oJ2pvYicsIHsgLi4ubmV3Um93LCBfX3NvdXJjZTogJ2luc2VydCcgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChldiA9PT0gJ1VQREFURScpIHtcclxuICAgICAgICBvblVwZGF0ZT8uKCdqb2InLCB7IC4uLm5ld1JvdywgX19zb3VyY2U6ICd1cGRhdGUnIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZXYgPT09ICdERUxFVEUnKSB7XHJcbiAgICAgICAgb25VcGRhdGU/Lignam9iJywgeyAuLi5vbGRSb3csIF9fc291cmNlOiAnZGVsZXRlJyB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIC8vIPCfkqwgTWVuc2FqZXNcclxuICBjb25zdCBtZXNzYWdlcyA9IHN1YnNjcmliZVdpdGhTdGF0dXMoXHJcbiAgICAnY29yZS1tZXNzYWdlcycsXHJcbiAgICB7IGV2ZW50OiAnSU5TRVJUJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICdtZXNzYWdlcycgfSxcclxuICAgIChwYXlsb2FkKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvdyA9IHBheWxvYWQubmV3O1xyXG4gICAgICBpZiAocm93KSBvblVwZGF0ZT8uKCdtZXNzYWdlJywgcm93KTtcclxuICAgIH1cclxuICApO1xyXG5cclxuICAvLyDwn5GkIFBlcmZpbGVzXHJcbiAgY29uc3QgcHJvZmlsZXMgPSBzdWJzY3JpYmVXaXRoU3RhdHVzKFxyXG4gICAgJ2NvcmUtcHJvZmlsZXMnLFxyXG4gICAgeyBldmVudDogJ1VQREFURScsIHNjaGVtYTogJ3B1YmxpYycsIHRhYmxlOiAncHJvZmlsZXMnIH0sXHJcbiAgICAocGF5bG9hZCkgPT4ge1xyXG4gICAgICBjb25zdCByb3cgPSBwYXlsb2FkLm5ldztcclxuICAgICAgaWYgKHJvdykgb25VcGRhdGU/LigncHJvZmlsZScsIHJvdyk7XHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgY2hhbm5lbHMgPSBbd29ya2Vycywgam9icywgbWVzc2FnZXMsIHByb2ZpbGVzXTtcclxuXHJcbiAgLy8g4p2k77iPIEhlYXJ0YmVhdFxyXG4gIGNsZWFySW50ZXJ2YWwocGluZ1RpbWVyKTtcclxuICBwaW5nVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoc29ja2V0Py5pc0Nvbm5lY3RlZD8uKCkpIHtcclxuICAgICAgICBzb2NrZXQucHVzaCh7XHJcbiAgICAgICAgICB0b3BpYzogJ3Bob2VuaXgnLFxyXG4gICAgICAgICAgZXZlbnQ6ICdoZWFydGJlYXQnLFxyXG4gICAgICAgICAgcGF5bG9hZDoge30sXHJcbiAgICAgICAgICByZWY6IHNvY2tldC5tYWtlUmVmKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGFzdEhlYXJ0YmVhdEF0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3YXJuKCdSZWNvbmVjdGFuZG8gc29ja2V0Li4uJyk7XHJcbiAgICAgICAgc29ja2V0ID0gc3VwYWJhc2UucmVhbHRpbWUuY29ubmVjdCgpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4pqg77iPIEVycm9yIGhlYXJ0YmVhdDonLCBlcnIpO1xyXG4gICAgfVxyXG4gIH0sIDEwMDAwKTtcclxuXHJcbiAgLy8g8J+boe+4jyBXYXRjaGRvZ1xyXG4gIGNsZWFySW50ZXJ2YWwod2F0Y2hkb2dUaW1lcik7XHJcbiAgd2F0Y2hkb2dUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgIGNvbnN0IGlkbGUgPSBEYXRlLm5vdygpIC0gbGFzdEhlYXJ0YmVhdEF0O1xyXG4gICAgaWYgKHN1YnNjcmliZWQuc2l6ZSA9PT0gMCB8fCBpZGxlID4gMzAwMDApIHtcclxuICAgICAgd2Fybign8J+nryBSZWluaWNpYW5kbyBSZWFsdGltZUNvcmUuLi4nKTtcclxuICAgICAgY29uc3QgY2IgPSBvblVwZGF0ZTtcclxuICAgICAgc3RvcFJlYWx0aW1lQ29yZSgpO1xyXG4gICAgICBzdGFydFJlYWx0aW1lQ29yZShjYik7XHJcbiAgICB9XHJcbiAgfSwgMjAwMDApO1xyXG5cclxuICByZXR1cm4gKCkgPT4gc3RvcFJlYWx0aW1lQ29yZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RvcFJlYWx0aW1lQ29yZSgpIHtcclxuICB0cnkge1xyXG4gICAgY2hhbm5lbHMuZm9yRWFjaCgoY2gpID0+IHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwoY2gpKTtcclxuICAgIGNoYW5uZWxzID0gW107XHJcbiAgICBzdWJzY3JpYmVkLmNsZWFyKCk7XHJcbiAgICBpZiAocGluZ1RpbWVyKSBjbGVhckludGVydmFsKHBpbmdUaW1lcik7XHJcbiAgICBpZiAod2F0Y2hkb2dUaW1lcikgY2xlYXJJbnRlcnZhbCh3YXRjaGRvZ1RpbWVyKTtcclxuICAgIGlmIChzb2NrZXQpIHtcclxuICAgICAgdHJ5IHsgc29ja2V0LmRpc2Nvbm5lY3QoKTsgfSBjYXRjaCB7fVxyXG4gICAgICBzb2NrZXQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgbGFzdFN0YXR1cyA9ICd1bmtub3duJztcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhbCBkZXRlbmVyIFJlYWx0aW1lQ29yZTonLCBlcnIpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZ2V0U3VwYWJhc2UiLCJzdXBhYmFzZSIsIkRFQlVHIiwibG9nIiwiYSIsImNvbnNvbGUiLCJ3YXJuIiwiY2hhbm5lbHMiLCJzb2NrZXQiLCJwaW5nVGltZXIiLCJ3YXRjaGRvZ1RpbWVyIiwibGFzdEhlYXJ0YmVhdEF0IiwibGFzdFN0YXR1cyIsInN1YnNjcmliZWQiLCJTZXQiLCJzdGFydFJlYWx0aW1lQ29yZSIsIm9uVXBkYXRlIiwic3RvcFJlYWx0aW1lQ29yZSIsInJlYWx0aW1lIiwiY29ubmVjdCIsInB1c2giLCJlcnJvciIsImNoYW5uZWxDb25maWciLCJjb25maWciLCJicm9hZGNhc3QiLCJzZWxmIiwicHJlc2VuY2UiLCJrZXkiLCJyZWNvbm5lY3QiLCJzdWJzY3JpYmVXaXRoU3RhdHVzIiwibmFtZSIsInBnT3B0aW9ucyIsImhhbmRsZXIiLCJjaCIsImNoYW5uZWwiLCJvbiIsInBheWxvYWQiLCJlcnIiLCJzdWJzY3JpYmUiLCJzdGF0dXMiLCJhZGQiLCJEYXRlIiwibm93IiwiaW5jbHVkZXMiLCJkZWxldGUiLCJzaXplIiwid29ya2VycyIsImV2ZW50Iiwic2NoZW1hIiwidGFibGUiLCJldiIsImV2ZW50VHlwZSIsIm5ld1JvdyIsIm5ldyIsIm9sZFJvdyIsIm9sZCIsInVzZXJfaWQiLCJpc19hY3RpdmUiLCJyb3ciLCJqb2JzIiwiX19zb3VyY2UiLCJtZXNzYWdlcyIsInByb2ZpbGVzIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiaXNDb25uZWN0ZWQiLCJ0b3BpYyIsInJlZiIsIm1ha2VSZWYiLCJpZGxlIiwiY2IiLCJmb3JFYWNoIiwicmVtb3ZlQ2hhbm5lbCIsImNsZWFyIiwiZGlzY29ubmVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/realtimeCore.js\n"));

/***/ })

});