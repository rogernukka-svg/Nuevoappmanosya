(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{6909:function(e,t,s){Promise.resolve().then(s.bind(s,6329))},6329:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(7437),r=s(2265),a=s(6463),o=s(4667),i=s(7776);let l=(0,o.S)();function c(){let e=(0,a.useRouter)(),[t,s]=(0,r.useState)("login"),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!0);async function x(t){t.preventDefault(),h(!0);try{let{data:t,error:s}=await l.auth.signInWithPassword({email:o.trim(),password:u});if(s)throw s;console.log("✅ Login exitoso:",t),i.A.success("Inicio de sesi\xf3n exitoso \uD83C\uDF89"),setTimeout(()=>e.push("/role-selector"),800)}catch(e){console.error("❌ Error al iniciar sesi\xf3n:",e),i.A.error("Correo o contrase\xf1a incorrectos.")}finally{h(!1)}}async function p(t){t.preventDefault(),h(!0);try{let{data:t,error:s}=await l.auth.signUp({email:o.trim(),password:u});if(s)throw s;console.log("✅ Cuenta creada:",t),i.A.success("Cuenta creada correctamente ✅");let{error:n}=await l.auth.signInWithPassword({email:o.trim(),password:u});if(n)throw n;setTimeout(()=>e.push("/role-selector"),800)}catch(e){console.error("⚠️ Error al registrarse:",e),i.A.error("No se pudo crear la cuenta")}finally{h(!1)}}return((0,r.useEffect)(()=>{let t=!0,s=async()=>{var s;let{data:n,error:r}=await l.auth.getSession();r&&console.error("Error obteniendo sesi\xf3n:",r),(null==n?void 0:null===(s=n.session)||void 0===s?void 0:s.user)?(console.log("✅ Sesi\xf3n activa detectada:",n.session.user.email),t&&(i.A.success("Bienvenido \uD83D\uDC4B Redirigiendo..."),setTimeout(()=>e.push("/role-selector"),500))):(console.log("ℹ️ No hay sesi\xf3n activa."),t&&g(!1))};s();let n=setTimeout(s,1e3);return()=>{t=!1,clearTimeout(n)}},[e]),f)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,n.jsx)("div",{className:"animate-pulse text-emerald-600 text-lg font-semibold",children:"Verificando sesi\xf3n..."})}):(0,n.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-white to-gray-50 p-6",children:(0,n.jsxs)("div",{className:"w-full max-w-md bg-white shadow-2xl rounded-2xl border border-gray-100 p-8 text-center",children:[(0,n.jsxs)("h1",{className:"text-3xl font-extrabold mb-2",children:[(0,n.jsx)("span",{className:"text-emerald-600",children:"Manos"}),(0,n.jsx)("span",{className:"text-gray-900",children:"YA"})]}),(0,n.jsx)("p",{className:"text-gray-600 italic mb-6",children:"Conectamos talento y confianza en segundos."}),(0,n.jsxs)("form",{onSubmit:"login"===t?x:p,children:[(0,n.jsx)("input",{type:"email",placeholder:"Correo electr\xf3nico",value:o,onChange:e=>c(e.target.value),required:!0,className:"w-full mb-3 p-3 border rounded-lg focus:ring-2 focus:ring-emerald-400 outline-none"}),(0,n.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:u,onChange:e=>d(e.target.value),required:!0,className:"w-full mb-4 p-3 border rounded-lg focus:ring-2 focus:ring-emerald-400 outline-none"}),(0,n.jsx)("button",{type:"submit",disabled:m,className:"w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-lg shadow-md transition disabled:opacity-70",children:m?"Procesando...":"login"===t?"Entrar a ManosYA":"Crear cuenta"})]}),(0,n.jsx)("div",{className:"mt-6",children:"login"===t?(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["\xbfNo ten\xe9s cuenta?"," ",(0,n.jsx)("button",{onClick:()=>s("signup"),className:"text-emerald-600 font-medium hover:underline",children:"Crear cuenta"})]}):(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["\xbfYa ten\xe9s cuenta?"," ",(0,n.jsx)("button",{onClick:()=>s("login"),className:"text-emerald-600 font-medium hover:underline",children:"Iniciar sesi\xf3n"})]})})]})})}},4667:function(e,t,s){"use strict";s.d(t,{S:function(){return a}});var n=s(951);let r=null;function a(){if(r)return r;let e="https://ydtficoxjuxsoaxtghhj.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkdGZpY294anV4c29heHRnaGhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwOTUwNDIsImV4cCI6MjA3NTY3MTA0Mn0.KBRDCAJYvjpmcXRnYFcuSI8Mn0zYfJzaN0QJo63gzy8";if(!e||!t)throw console.error("❌ Faltan variables de entorno de Supabase."),Error("Variables de entorno Supabase no configuradas.");return r=(0,n.createBrowserClient)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),console.log("✅ Supabase (browser client) inicializado en",e),r}},6463:function(e,t,s){"use strict";var n=s(1169);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[951,7776,2971,7023,1744],function(){return e(e.s=6909)}),_N_E=e.O()}]);