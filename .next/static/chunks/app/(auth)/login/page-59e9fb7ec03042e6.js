(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{6909:function(e,t,n){Promise.resolve().then(n.bind(n,6329))},6329:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),s=n(2265),a=n(6463),o=n(4667),i=n(7776);let l=(0,o.S)();function u(){let e=(0,a.useRouter)(),[t,n]=(0,s.useState)("login"),[o,u]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[f,x]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!0);async function b(t){t.preventDefault(),x(!0);try{let{error:t}=await l.auth.signInWithPassword({email:o.trim(),password:c});if(t)throw t;i.A.success("Inicio de sesi\xf3n exitoso \uD83C\uDF89"),e.push("/role-selector")}catch(e){i.A.error("Correo o contrase\xf1a incorrectos.")}finally{x(!1)}}async function v(t){t.preventDefault(),x(!0);try{var n;let{data:t,error:r}=await l.auth.signUp({email:o.trim(),password:c});if(r)throw r;let s=null===(n=t.user)||void 0===n?void 0:n.id;s&&m.trim()&&await l.from("profiles").insert([{id:s,full_name:m.trim(),created_at:new Date}]),i.A.success("Cuenta creada correctamente ✅"),e.push("/role-selector")}catch(e){i.A.error("No se pudo crear la cuenta.")}finally{x(!1)}}return((0,s.useEffect)(()=>{(async()=>{var t;let{data:n}=await l.auth.getSession();(null==n?void 0:null===(t=n.session)||void 0===t?void 0:t.user)?(i.A.success("Bienvenido \uD83D\uDC4B Redirigiendo..."),e.push("/role-selector")):g(!1)})()},[e]),p)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white text-emerald-600",children:"Verificando sesi\xf3n..."}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col justify-center items-center px-6 bg-gradient-to-b from-white to-emerald-50 font-[var(--font-manrope)]",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("h1",{className:"text-4xl font-extrabold tracking-tight",children:[(0,r.jsx)("span",{className:"text-[#111827]",children:"Manos"}),(0,r.jsx)("span",{className:"text-emerald-600",children:"YA"})]}),(0,r.jsx)("p",{className:"text-gray-500 mt-2 text-sm",children:"Conectamos talento con oportunidades."})]}),(0,r.jsxs)("div",{className:"w-full max-w-sm bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,r.jsxs)("form",{onSubmit:"login"===t?b:v,className:"space-y-3",children:["signup"===t&&(0,r.jsx)("input",{type:"text",placeholder:"Nombre completo",value:m,onChange:e=>h(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-emerald-400 outline-none transition"}),(0,r.jsx)("input",{type:"email",placeholder:"Correo electr\xf3nico",value:o,onChange:e=>u(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-emerald-400 outline-none transition"}),(0,r.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:c,onChange:e=>d(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-emerald-400 outline-none transition"}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-xl transition shadow-sm",children:f?"Procesando...":"login"===t?"Entrar":"Crear cuenta"})]}),(0,r.jsx)("div",{className:"mt-4 text-sm text-gray-600 text-center",children:"login"===t?(0,r.jsxs)(r.Fragment,{children:["\xbfNo ten\xe9s cuenta?"," ",(0,r.jsx)("button",{onClick:()=>n("signup"),className:"text-emerald-600 font-medium hover:underline",children:"Crear cuenta"})]}):(0,r.jsxs)(r.Fragment,{children:["\xbfYa ten\xe9s cuenta?"," ",(0,r.jsx)("button",{onClick:()=>n("login"),className:"text-emerald-600 font-medium hover:underline",children:"Iniciar sesi\xf3n"})]})})]}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-8 text-center max-w-xs",children:"\uD83C\uDF0E En ManosYA, cada persona tiene algo valioso que ofrecer."})]})}},4667:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var r=n(951);let s=null;function a(){if(s)return s;let e="https://ydtficoxjuxsoaxtghhj.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkdGZpY294anV4c29heHRnaGhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwOTUwNDIsImV4cCI6MjA3NTY3MTA0Mn0.KBRDCAJYvjpmcXRnYFcuSI8Mn0zYfJzaN0QJo63gzy8";if(!e||!t)throw console.error("❌ Faltan variables de entorno de Supabase."),Error("Variables de entorno Supabase no configuradas.");return s=(0,r.createBrowserClient)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),console.log("✅ Supabase (browser client) inicializado en",e),s}},6463:function(e,t,n){"use strict";var r=n(1169);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[951,7776,2971,7023,1744],function(){return e(e.s=6909)}),_N_E=e.O()}]);